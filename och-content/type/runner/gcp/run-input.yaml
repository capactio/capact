ocfVersion: 0.0.1
revision: 0.1.0
kind: Type
metadata:
  name: run-input
  prefix: cap.type.runner.gcp  # Computed during fetching the manifest
  displayName: Input parameters for Run action
  description: Describes input parameters for Run action of the Google Cloud Platform Runner.
  documentationURL: https://cloud.google.com/sdk/gcloud
  supportURL: https://cloud.google.com
  maintainers:
    - email: team@projectvoltron.dev
      name: Voltron Dev Team
      url: https://projectvoltron.dev

spec:
  jsonSchema:
    value: |-
      {
        "$schema": "http://json-schema.org/draft-07/schema",
        "$id": "cap.type.runner.gcp.run-input",
        "type": "object",
        "title": "The input schema for Google Cloud Platform Runner",
        "examples": [
          {
            "dryRun": false,
            "args": {
              "group": "sql",
              "command": "create",
              "generateName": true,
              "configuration": {
                "tier": "db-g1-small",
                "databaseVersion": "POSTGRES_12",
                "region": "us-central"
              }
            }
          }
        ],
        "required": [
            "dryRun",
            "args"
        ],
        "properties": {
          "dryRun": {
            "$id": "#/properties/dryRun",
            "type": "boolean",
            "title": "Describes if the action should test ability to execute, not actually execute",
            "default": false
          },
          "args": {
            "$id": "#/properties/args",
            "type": "object",
            "title": "Arguments for Helm Runner",
            "additionalProperties": false,
            "required": [
                "group",
                "command"
            ],
            "properties": {
              "group": {
                "$id": "#/properties/args/properties/group",
                "type": "string",
                "title": "The group of a command"
              },
              "command": {
                "$id": "#/properties/args/properties/command",
                "type": "string",
                "title": "The command to execute"
              },
              "name": {
                "$id": "#/properties/args/properties/name",
                "type": "string",
                "title": "The name of an instance"
              },
              "generateName": {
                "$id": "#/properties/args/properties/generateName",
                "type": "boolean",
                "title": "Generate instance name",
                "default": false
              },
              "configuration": {
                "$id": "#/properties/args/properties/configuration",
                "type": "object",
                "title": "Additional configuration properties",
                "additionalProperties": true
              }
            }
          }
        },
        "additionalProperties": false
      }

signature:
  och: eyJ0eXAiOiJKV1QiLA0KICJhbGciOiJIUzI1NiJ9
