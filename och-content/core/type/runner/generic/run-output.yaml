ocfVersion: 0.0.1
revision: 0.1.0
kind: Type
metadata:
  name: run-output
  prefix: cap.core.type.runner.generic  # Computed during fetching the manifest
  displayName: Output parameters for Run action
  description: Describes output parameters for Run action of the generic Runner.
  documentationURL: https://projectvoltron.dev
  supportURL: https://projectvoltron.dev
  maintainers:
    - email: team@projectvoltron.dev
      name: Voltron Dev Team
      url: https://projectvoltron.dev

spec:
  jsonSchema:
    value: |-
      {
              "$schema": "http://json-schema.org/draft-07/schema",
              "$id": "cap.core.type.runner.generic.run-output",
              "type": "object",
              "title": "The output schema for generic Runner",
              "examples": [
                {
                  "result": {
                    "foo":"bar"
                  },
                  "errors": [
                        {
                          "code": "1",
                          "message": "foo"
                        }
                    ]
                }
              ],
              "required": [
                  "result",
                  "errors"
              ],
              "properties": {
                "result": {
                  "$id": "#/properties/result",
                  "type": "object",
                  "title": "The result object from Runner with arbitrary data",
                  "additionalProperties": true
                },
                "errors": {
                  "$id": "#/properties/errors",
                  "type": "array",
                  "title": "The array of errors from Runner",
                  "additionalItems": true,
                  "items": {

                        "$id": "#/properties/errors/items/anyOf/0",
                        "type": "object",
                        "title": "The first anyOf schema",
                        "description": "An explanation about the purpose of this instance.",
                        "required": [
                            "code",
                            "message"
                        ],
                        "properties": {
                          "code": {
                            "$id": "#/properties/errors/items/anyOf/0/properties/code",
                            "type": "string",
                            "title": "Error code",
                          },
                          "message": {
                            "$id": "#/properties/errors/items/anyOf/0/properties/message",
                            "type": "string",
                            "title": "Error message",
                          }
                        },
                        "additionalProperties": true

                  }
                }
              },
              "additionalProperties": false
            }

signature:
  och: eyJ0eXAiOiJKV1QiLA0KICJhbGciOiJIUzI1NiJ9
